# Example Terraform Variables Configuration
# Copy this file to terraform.tfvars and customize the values for your deployment

#------------------------------------------------------------------------------
# Required Configuration
#------------------------------------------------------------------------------

# REQUIRED: Your verified email address for sending newsletters
# This email must be verified in Amazon SES before deployment
sender_email = "newsletter@yourdomain.com"

#------------------------------------------------------------------------------
# Environment Configuration
#------------------------------------------------------------------------------

# Environment name for resource tagging and naming
environment = "dev"

# Python runtime version for Lambda functions
lambda_runtime = "python3.12"

# CloudWatch log retention period (days)
log_retention_days = 14

#------------------------------------------------------------------------------
# Lambda Function URLs (Optional)
#------------------------------------------------------------------------------

# Enable Lambda Function URLs for direct HTTPS access
# Set to true for development/testing, consider security for production
enable_function_urls = true

# Allowed origins for CORS when Function URLs are enabled
# Use ["*"] for all origins (not recommended for production)
allowed_origins = [
  "https://yourdomain.com",
  "https://www.yourdomain.com",
  "http://localhost:3000",  # For local development
  "http://localhost:8080"
]

#------------------------------------------------------------------------------
# DynamoDB Configuration
#------------------------------------------------------------------------------

# Enable Point-in-Time Recovery for data protection
enable_point_in_time_recovery = true

# Enable server-side encryption
enable_dynamodb_encryption = true

#------------------------------------------------------------------------------
# Lambda Function Configuration
#------------------------------------------------------------------------------

# Subscribe function settings
subscribe_function_config = {
  timeout     = 30   # seconds
  memory_size = 256  # MB
}

# Newsletter function settings (higher resources for bulk operations)
newsletter_function_config = {
  timeout     = 300  # seconds (5 minutes)
  memory_size = 512  # MB
}

# List subscribers function settings
list_function_config = {
  timeout     = 30   # seconds
  memory_size = 256  # MB
}

# Unsubscribe function settings
unsubscribe_function_config = {
  timeout     = 30   # seconds
  memory_size = 256  # MB
}

#------------------------------------------------------------------------------
# Advanced Configuration (Optional)
#------------------------------------------------------------------------------

# Enable AWS X-Ray tracing for debugging and performance monitoring
enable_xray_tracing = false

# Reserved concurrent executions (-1 for unlimited)
reserved_concurrent_executions = -1

# Enable Lambda Insights for enhanced monitoring
enable_lambda_insights = false

# Provisioned concurrency for reduced cold starts (costs extra)
provisioned_concurrency = 0

#------------------------------------------------------------------------------
# SES Configuration (Optional)
#------------------------------------------------------------------------------

# Optional SES Configuration Set for advanced tracking
# Uncomment and specify if you have a configuration set
# ses_configuration_set = "my-email-config-set"

#------------------------------------------------------------------------------
# VPC Configuration (Optional)
#------------------------------------------------------------------------------

# Uncomment and configure if you need Lambda functions in a VPC
# vpc_config = {
#   subnet_ids = [
#     "subnet-12345678",
#     "subnet-87654321"
#   ]
#   security_group_ids = [
#     "sg-abcdef123"
#   ]
# }

#------------------------------------------------------------------------------
# Additional Tags
#------------------------------------------------------------------------------

# Additional tags to apply to all resources
additional_tags = {
  CostCenter  = "Marketing"
  Owner       = "DevOps Team"
  Application = "EmailMarketing"
  Backup      = "Required"
}

#------------------------------------------------------------------------------
# Example Configurations for Different Environments
#------------------------------------------------------------------------------

# DEVELOPMENT ENVIRONMENT
# environment = "dev"
# log_retention_days = 7
# enable_function_urls = true
# allowed_origins = ["*"]
# newsletter_function_config = {
#   timeout = 60
#   memory_size = 256
# }

# STAGING ENVIRONMENT
# environment = "staging"
# log_retention_days = 14
# enable_function_urls = true
# allowed_origins = ["https://staging.yourdomain.com"]
# newsletter_function_config = {
#   timeout = 300
#   memory_size = 512
# }

# PRODUCTION ENVIRONMENT
# environment = "prod"
# log_retention_days = 30
# enable_function_urls = false  # Use API Gateway instead
# newsletter_function_config = {
#   timeout = 600
#   memory_size = 1024
# }
# enable_xray_tracing = true
# enable_lambda_insights = true
# provisioned_concurrency = 5

#------------------------------------------------------------------------------
# High-Volume Configuration Example
#------------------------------------------------------------------------------

# For high-volume email sending (thousands of subscribers)
# newsletter_function_config = {
#   timeout = 900      # 15 minutes (maximum)
#   memory_size = 1024 # 1GB for processing large subscriber lists
# }
# reserved_concurrent_executions = 10
# provisioned_concurrency = 2

#------------------------------------------------------------------------------
# Security-Focused Configuration Example
#------------------------------------------------------------------------------

# For maximum security (enterprise/production)
# enable_function_urls = false
# enable_xray_tracing = true
# enable_lambda_insights = true
# vpc_config = {
#   subnet_ids = ["subnet-private1", "subnet-private2"]
#   security_group_ids = ["sg-lambda-email-functions"]
# }
# log_retention_days = 90

#------------------------------------------------------------------------------
# Cost-Optimized Configuration Example
#------------------------------------------------------------------------------

# For minimal costs
# log_retention_days = 3
# newsletter_function_config = {
#   timeout = 180
#   memory_size = 256
# }
# enable_point_in_time_recovery = false  # Reduces DynamoDB costs
# reserved_concurrent_executions = 5     # Limits concurrent executions