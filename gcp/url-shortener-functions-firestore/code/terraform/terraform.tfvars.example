# Example Terraform Variables for GCP URL Shortener
# Copy this file to terraform.tfvars and customize for your environment

# Required Variables
# ==================

# Your Google Cloud Project ID
project_id = "your-gcp-project-id"

# Optional Variables with Recommended Values
# ==========================================

# Google Cloud region for resource deployment
region = "us-central1"

# Cloud Function Configuration
function_name        = "url-shortener"
function_memory     = "256M"              # Options: 128M, 256M, 512M, 1024M, 2048M, 4096M, 8192M
function_timeout    = 60                  # Seconds (1-540)
function_max_instances = 10               # Maximum concurrent instances
function_min_instances = 0                # Set to 0 for cost savings, >0 for lower latency

# Firestore Database Configuration
firestore_location = "nam5"               # Options: nam5, eur3, us-central1, etc.
firestore_database_id = "(default)"      # Use "(default)" for the default database
enable_point_in_time_recovery = false    # Enable PITR (additional cost)
enable_delete_protection = false         # Prevent accidental deletion

# Security and Access Configuration
allow_unauthenticated_access = true      # Allow public access to the function
cors_allowed_origins = ["*"]             # CORS origins, ["*"] for all domains
cors_allowed_methods = ["GET", "POST", "OPTIONS"]

# Storage Configuration
source_bucket_name = ""                  # Leave empty for auto-generated name
source_bucket_location = "US"           # Options: US, EU, ASIA, or specific regions

# Function Runtime Configuration
runtime = "nodejs20"                     # Available: nodejs18, nodejs20, python39, etc.
function_entry_point = "urlShortener"   # Function entry point name

# Resource Labeling (for organization and cost tracking)
resource_labels = {
  application = "url-shortener"
  environment = "production"
  team        = "platform"
  managed-by  = "terraform"
}

# Alternative Configuration Examples
# ===================================

# Production Configuration Example:
# project_id = "my-company-url-shortener"
# region = "us-central1"
# function_name = "prod-url-shortener"
# function_memory = "512M"
# function_timeout = 30
# function_max_instances = 100
# function_min_instances = 2
# firestore_location = "us-central1"
# enable_point_in_time_recovery = true
# enable_delete_protection = true
# cors_allowed_origins = ["https://myapp.com", "https://admin.myapp.com"]
# resource_labels = {
#   application = "url-shortener"
#   environment = "production"
#   team = "platform"
#   cost-center = "engineering"
#   managed-by = "terraform"
# }

# Development Configuration Example:
# project_id = "my-company-url-shortener-dev"
# region = "us-central1"
# function_name = "dev-url-shortener"
# function_memory = "128M"
# function_timeout = 60
# function_max_instances = 5
# function_min_instances = 0
# firestore_location = "nam5"
# enable_point_in_time_recovery = false
# enable_delete_protection = false
# allow_unauthenticated_access = true
# resource_labels = {
#   application = "url-shortener"
#   environment = "development"
#   team = "platform"
#   managed-by = "terraform"
# }

# High-Security Configuration Example:
# project_id = "secure-url-shortener"
# region = "us-central1"
# function_name = "secure-url-shortener"
# function_memory = "256M"
# allow_unauthenticated_access = false  # Requires authentication
# cors_allowed_origins = ["https://internal.company.com"]
# cors_allowed_methods = ["GET", "POST"]
# enable_delete_protection = true
# resource_labels = {
#   application = "url-shortener"
#   environment = "production"
#   security-level = "high"
#   managed-by = "terraform"
# }